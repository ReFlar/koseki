{"version":3,"sources":["webpack://@reflar/koseki/webpack/bootstrap","webpack://@reflar/koseki/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@reflar/koseki/external \"flarum.core.compat['Component']\"","webpack://@reflar/koseki/external \"flarum.core.compat['Model']\"","webpack://@reflar/koseki/external \"flarum.core.compat['tags/models/Tag']\"","webpack://@reflar/koseki/external \"flarum.core.compat['components/Page']\"","webpack://@reflar/koseki/external \"flarum.core.compat['tags/utils/sortTags']\"","webpack://@reflar/koseki/external \"flarum.core.compat['helpers/username']\"","webpack://@reflar/koseki/external \"flarum.core.compat['components/IndexPage']\"","webpack://@reflar/koseki/external \"flarum.core.compat['helpers/listItems']\"","webpack://@reflar/koseki/external \"flarum.core.compat['helpers/avatar']\"","webpack://@reflar/koseki/external \"flarum.core.compat['helpers/humanTime']\"","webpack://@reflar/koseki/external \"flarum.core.compat['utils/stringToColor']\"","webpack://@reflar/koseki/external \"flarum.core.compat['utils/computed']\"","webpack://@reflar/koseki/./src/forum/components/LastDiscussionView.js","webpack://@reflar/koseki/./src/forum/components/ChildTagView.js","webpack://@reflar/koseki/./src/forum/components/PrimaryTagView.js","webpack://@reflar/koseki/./src/forum/components/StatisticsWidget.js","webpack://@reflar/koseki/./src/forum/pages/CategoryPage.js","webpack://@reflar/koseki/./src/forum/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","_inheritsLoose","subClass","superClass","constructor","__proto__","__webpack_exports__","flarum","core","compat","LastDiscussionView","init","_Component","this","view","tag","props","discussion","lastPostedDiscussion","lastUser","user","username","prop","avatarUrl","color","computed","avatarColor","join","calculateAvatarColor","stringToColor","className","avatar","href","app","route","lastPostNumber","title","translator","trans","config","humanTime","lastTime","Component","ChildTagView","tagView","forum","attribute","class","style","icon","tags","slug","description","discussionCount","transChoice","discussionsCount","count","commentsCount","component","PrimaryTagView","_this","sortTags","store","all","filter","parent","toggleView","child","parentNode","querySelectorAll","display","classList","remove","add","isPrimary","isChild","length","onclick","map","StatisticsWidget","displayName","CategoryPage","_Page","secondary","hasChild","statisticsWidget","IndexPage","hero","affixSidebar","listItems","sidebarItems","toArray","Page","initializers","routes","koseki","path","Tag","Model"],"mappings":"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","file":"forum.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 21);\n","export default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}","module.exports = flarum.core.compat['Component'];","module.exports = flarum.core.compat['Model'];","module.exports = flarum.core.compat['tags/models/Tag'];","module.exports = flarum.core.compat['components/Page'];","module.exports = flarum.core.compat['tags/utils/sortTags'];","module.exports = flarum.core.compat['helpers/username'];","module.exports = flarum.core.compat['components/IndexPage'];","module.exports = flarum.core.compat['helpers/listItems'];","module.exports = flarum.core.compat['helpers/avatar'];","module.exports = flarum.core.compat['helpers/humanTime'];","module.exports = flarum.core.compat['utils/stringToColor'];","module.exports = flarum.core.compat['utils/computed'];","import Component from 'flarum/Component';\r\nimport avatar from 'flarum/helpers/avatar';\r\nimport username from 'flarum/helpers/username';\r\nimport humanTime from 'flarum/helpers/humanTime';\r\nimport stringToColor from 'flarum/utils/stringToColor';\r\nimport computed from 'flarum/utils/computed';\r\n\r\nexport default class LastDiscussionView extends Component {\r\n    init() {\r\n        super.init();\r\n    }\r\n\r\n    view() {\r\n        let tag = this.props.tag;\r\n        let discussion = tag.lastPostedDiscussion();\r\n\r\n        if (tag.lastUser() != null) {\r\n            let user = {\r\n                username: m.prop(tag.lastUser().username),\r\n                avatarUrl: tag.lastUser().avatarUrl != null ? m.prop(tag.lastUser().avatarUrl) : m.prop(),\r\n                color: computed('username', 'avatarUrl', 'avatarColor', function (username, avatarUrl, avatarColor) {\r\n                    if (avatarColor) {\r\n                        return 'rgb(' + avatarColor.join(', ') + ')';\r\n                    } else if (avatarUrl) {\r\n                        this.calculateAvatarColor();\r\n                        return '';\r\n                    }\r\n\r\n                    return '#' + stringToColor(username);\r\n                }),\r\n            };\r\n\r\n            return (\r\n                <div className=\"TagChild-last\">\r\n                    <div className=\"TagChild-avatar\">{avatar(user)} {' '}</div>\r\n                    <div className=\"TagChild-lastmeta\">\r\n                        <a href={app.route.discussion(discussion, discussion.lastPostNumber())} className=\"TagChild-discussion\">{discussion.title()}</a>\r\n                        {app.translator.trans('reflar-koseki.forum.by')}&nbsp;\r\n\r\n                        <a href={app.route.user(user)} config={m.route}>\r\n                            {username(user)}\r\n                        </a><br />\r\n                        <small>{humanTime(discussion.lastTime())}</small>\r\n                    </div>\r\n                </div>\r\n            );\r\n        } else {\r\n            return (<div></div>);\r\n        }\r\n    }\r\n}\r\n","import Component from 'flarum/Component';\r\nimport LastDiscussionView from '../components/LastDiscussionView';\r\n\r\nexport default class ChildTagView extends Component {\r\n    init() {\r\n        super.init();\r\n    }\r\n\r\n    view() {\r\n        const tag = this.props.tag;\r\n        const tagView = app.forum.attribute('kosekiTagsView');\r\n\r\n        return (\r\n            <div class=\"row TagChild-row\">\r\n                <div class=\"col-xs-8 col-lg-7\">\r\n                    <div class=\"row\">\r\n                        <div class=\"col-xs-2\" style=\"bottom: 4px\">\r\n                            {tag.icon() ? (<div className=\"TagChild-image\"><i class={tag.icon() + ' icon'}></i></div>) : ''}\r\n                        </div>\r\n                        <div class=\"col-xs-9\">\r\n                            <a href={app.route('tag', { tags: tag.slug() })} className=\"TagChild-title\">{tag.name()}</a>\r\n                            <p>{tag.description()}</p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                {tagView == 'compact' ? (\r\n                    <div>\r\n                        <div class=\"col-xs-2 col-lg-2\">\r\n                            <span className=\"TagChild-topics\">{tag.discussionCount() + ' ' + app.translator.transChoice('reflar-koseki.forum.topics', tag.discussionsCount(), { count: tag.discussionsCount() })}</span>\r\n                            <span className=\"TagChild-posts\">{tag.commentsCount() + ' ' + app.translator.transChoice('reflar-koseki.forum.posts', tag.commentsCount() == 0 ? 0 : tag.commentsCount(), { count: tag.commentsCount() == 0 ? 0 : tag.commentsCount() })}</span>\r\n                        </div>\r\n                    </div>) : (\r\n                        <div>\r\n                            <div class=\"col-xs-2 col-lg-1\">\r\n                                <span class=\"TagChild-topics\">{tag.discussionCount()}</span>\r\n                            </div>\r\n                            <div class=\"col-xs-2 col-lg-1\">\r\n                                <span class=\"TagChild-posts\">{tag.commentsCount()}</span>\r\n                            </div>\r\n                        </div>\r\n                    )\r\n                }\r\n\r\n                <div class=\"visible-lg col-lg-2\">\r\n                    {LastDiscussionView.component({ tag })}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import Component from 'flarum/Component';\r\nimport sortTags from 'flarum/tags/utils/sortTags';\r\nimport ChildTagView from '../components/ChildTagView';\r\n\r\nexport default class PrimaryTagView extends Component {\r\n    init() {\r\n        super.init();\r\n\r\n        this.tags = sortTags(app.store.all('tags').filter(tag => tag.parent() == this.props.tag));\r\n    }\r\n\r\n    toggleView() {\r\n        let parent = this.parentNode.parentNode.parentNode.parentNode.parentNode;\r\n        let child = parent.querySelectorAll('.Category--Children')[0];\r\n\r\n        if (child) {\r\n            if (child.style.display == 'none') {\r\n                this.classList.remove('fa-angle-left');\r\n                this.classList.add('fa-angle-down');\r\n            } else {\r\n                this.classList.remove('fa-angle-down');\r\n                this.classList.add('fa-angle-left');\r\n            }\r\n\r\n            child.style.display = child.style.display == 'none' ? 'block' : 'none';\r\n        }\r\n    }\r\n\r\n    view() {\r\n        const tag = this.props.tag;\r\n        const tagView = app.forum.attribute('kosekiTagsView');\r\n\r\n        return (\r\n            <div class=\"container\">\r\n                <div class=\"Category TagTile\">\r\n                    {tag.isPrimary() && tag.isChild() == false && this.tags.length >= 1 ? (\r\n                        <div class=\"row\">\r\n                            <div class=\"row TagTile-info\">\r\n                                <div class=\"col-xs-8 col-lg-7\">\r\n                                    <a href={app.route('tag', { tags: tag.slug() })}>{tag.name()}</a>\r\n                                </div>\r\n                                {tagView == 'compact' ? (\r\n                                    <div>\r\n                                        <div class=\"col-xs-2 col-lg-2\">\r\n                                            <span class=\"TagTile-posts\">{app.translator.trans('reflar-koseki.forum.statistics')}</span>\r\n                                        </div>\r\n                                    </div>) : (\r\n                                        <div>\r\n                                            <div class=\"col-xs-2 col-lg-1\">\r\n                                                <span class=\"TagTile-topics\">{app.translator.trans('reflar-koseki.forum.topics_title')}</span>\r\n                                            </div>\r\n                                            <div class=\"col-xs-2 col-lg-1\">\r\n                                                <span class=\"TagTile-posts\">{app.translator.trans('reflar-koseki.forum.posts_title')}</span>\r\n                                            </div>\r\n                                        </div>\r\n                                    )\r\n                                }\r\n                                <div class=\"col-xs-2 col-lg-2 visible-lg\">\r\n                                    <span class=\"TagTile-last\">{app.translator.trans('reflar-koseki.forum.last_post')}</span>\r\n                                </div>\r\n                                <div class=\"visible-lg col-lg-1\">\r\n                                    <div class=\"TagTile-toggle\"><i class=\"icon fa fa-angle-down\" onclick={this.toggleView}></i></div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    ) : ''}\r\n                    <div class=\"Category--Children\">\r\n                        {tag.isPrimary() && tag.isChild() == false && this.tags.length >= 1 && tag.description() != '' ? (<p class=\"TagTile-description\">{tag.description()}</p>) : ''}\r\n                        {this.tags.map(tag => ChildTagView.component({ tag }))}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import Component from 'flarum/Component';\r\nimport username from 'flarum/helpers/username';\r\n\r\nexport default class StatisticsWidget extends Component {\r\n    init() {\r\n        super.init();\r\n    }\r\n\r\n    view() {\r\n        let user = {\r\n            displayName: m.prop(app.forum.attribute('lastUser')),\r\n            username: m.prop(app.forum.attribute('lastUser')),\r\n        };\r\n\r\n        return (\r\n            <div>\r\n                <div class=\"TagTile-info row\">\r\n                    <div class=\"col-xs-8 col-lg-7\">{app.translator.trans('reflar-koseki.forum.whats_on')}</div>\r\n                </div>\r\n\r\n                <div class=\"row\">\r\n                    <div class=\"col-xs-3 col-lg-1\"><i class=\"fa fa-bar-chart icon TagStatsIcon\"></i></div>\r\n                    <div class=\"col-xs-9 col-lg-10 TagTile\">\r\n                        <p class=\"TagTile-description\">\r\n                            <h4>{app.translator.trans('reflar-koseki.forum.forum_stats')}</h4>\r\n\r\n                            {app.translator.trans('reflar-koseki.forum.topics_title')}: <strong>{app.forum.attribute('discussionsCount')}</strong> /  &nbsp;{app.translator.trans('reflar-koseki.forum.posts_title')}:  <strong>{app.forum.attribute('postsCount')}</strong> /  &nbsp;{app.translator.trans('reflar-koseki.forum.members')}:  <strong>{app.forum.attribute('usersCount')}</strong><br></br>\r\n                            {app.translator.trans('reflar-koseki.forum.welcome_members')}: &nbsp;\r\n                            <a href={app.route.user(user)} config={m.route}>\r\n                                <strong>{username(user)}</strong>\r\n                            </a>\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import Page from 'flarum/components/Page';\r\nimport sortTags from 'flarum/tags/utils/sortTags';\r\nimport IndexPage from 'flarum/components/IndexPage';\r\nimport listItems from 'flarum/helpers/listItems';\r\nimport PrimaryTagView from '../components/PrimaryTagView';\r\nimport ChildTagView from '../components/ChildTagView';\r\nimport StatisticsWidget from '../components/StatisticsWidget';\r\n\r\nexport default class CategoryPage extends Page {\r\n    init() {\r\n        super.init();\r\n\r\n        this.tags = sortTags(app.store.all('tags').filter(tag => tag.isChild() == false));\r\n        this.secondary = sortTags(app.store.all('tags').filter(tag => tag.hasChild() == false && tag.isChild() == false));\r\n    }\r\n\r\n    toggleView() {\r\n        let parent = this.parentNode.parentNode.parentNode.parentNode;\r\n        let child = parent.querySelectorAll('.Category--Children')[0];\r\n\r\n        if (child) {\r\n            if (child.style.display == 'none') {\r\n                this.classList.remove('fa-angle-left');\r\n                this.classList.add('fa-angle-down');\r\n            } else {\r\n                this.classList.remove('fa-angle-down');\r\n                this.classList.add('fa-angle-left');\r\n            }\r\n\r\n            child.style.display = child.style.display == 'none' ? 'block' : 'none';\r\n        }\r\n    }\r\n\r\n    view() {\r\n        const tagView = app.forum.attribute('kosekiTagsView');\r\n        const statisticsWidget = app.forum.attribute('kosekiStatistics');\r\n\r\n        return (\r\n            <div className=\"KosekiPage\">\r\n                {IndexPage.prototype.hero()}\r\n\r\n                <div className=\"container\">\r\n                    <nav className=\"KosekiPage-nav IndexPage-nav sideNav\" config={IndexPage.prototype.affixSidebar}>\r\n                        <ul>{listItems(IndexPage.prototype.sidebarItems().toArray())}</ul>\r\n                    </nav>\r\n\r\n                    <div className=\"KosekiPage-content\">\r\n                        <div className=\"KosekiPage--categories TagTiles\">\r\n                            {this.tags.map(tag => PrimaryTagView.component({ tag }))}\r\n\r\n                            {this.secondary.length >= 1 ? (\r\n                                <div class=\"row\">\r\n                                    <div class=\"row TagTile-info\">\r\n                                        <div class=\"col-xs-8 col-lg-7\">\r\n                                            {app.translator.trans('reflar-koseki.forum.forums')}\r\n                                        </div>\r\n                                        {tagView == 'compact' ? (\r\n                                            <div>\r\n                                                <div class=\"col-xs-2 col-lg-2\">\r\n                                                    <span class=\"TagTile-posts\">{app.translator.trans('reflar-koseki.forum.statistics')}</span>\r\n                                                </div>\r\n                                            </div>) : (\r\n                                                <div>\r\n                                                    <div class=\"col-xs-2 col-lg-1\">\r\n                                                        <span class=\"TagTile-topics\">{app.translator.trans('reflar-koseki.forum.topics_title')}</span>\r\n                                                    </div>\r\n                                                    <div class=\"col-xs-2 col-lg-1\">\r\n                                                        <span class=\"TagTile-posts\">{app.translator.trans('reflar-koseki.forum.posts_title')}</span>\r\n                                                    </div>\r\n                                                </div>\r\n                                            )\r\n                                        }\r\n                                        <div class=\"col-xs-2 col-lg-2 visible-lg\">\r\n                                            <span class=\"TagTile-last\">{app.translator.trans('reflar-koseki.forum.last_post')}</span>\r\n                                        </div>\r\n                                        <div class=\"visible-lg col-lg-1\">\r\n                                            <div class=\"TagTile-toggle\"><i class=\"icon fa fa-angle-down\" onclick={this.toggleView}></i></div>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div class=\"Category--Children TagTile\">\r\n                                        {this.secondary.map(tag => ChildTagView.component({ tag }))}\r\n                                    </div>\r\n                                </div>\r\n                            ) : ''}\r\n                        </div>\r\n\r\n                        { statisticsWidget == null || statisticsWidget == 0 ?  StatisticsWidget.component() : '' }\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n\r\n    }\r\n}\r\n","import CategoryPage from './pages/CategoryPage';\r\nimport Model from 'flarum/Model';\r\nimport Tag from 'flarum/tags/models/Tag';\r\n\r\napp.initializers.add('reflar-koseki', app => {\r\n    app.routes.koseki = {path: '/koseki', component: CategoryPage.component()};\r\n\r\n    Tag.prototype.commentsCount = Model.attribute('commentsCount');\r\n    Tag.prototype.lastUser = Model.attribute('lastUser');\r\n    Tag.prototype.hasChild = Model.attribute('hasChild');\r\n    Tag.prototype.icon = Model.attribute('icon');\r\n}, -50);\r\n"],"sourceRoot":""}